  <!-- Start::row-1 -->
  <div class="row">
    <div class="col-xxl-3">
      <div class="card custom-card">
        <div class="top-left"></div>
        <div class="top-right"></div>
        <div class="bottom-left"></div>
        <div class="bottom-right"></div>
          <div class="card-header justify-content-between">
            <div class="card-title">All Events</div>
            <button class="btn btn-sm btn-primary btn-wave"><i class="ri-add-line align-middle me-1 fw-medium d-inline-block"></i>Create Event</button>
          </div>
          <div class="card-body p-0">
              <div  mwlDroppable
              (drop)="externalDrop($event.dropData.event)"
              dragOverClass="drag-over" id="external-events" class="border-bottom p-3">
              @for(event of events;track $index){
                  <div  mwlDraggable
                  [dropData]="{ event: event }"
                  [touchStartLongPress]="{ delay: 300, delta: 30 }"
                  dragActiveClass="drag-active" class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-{{event.cssClass}}">
                    <div class="fc-event-main"><i class="ri-calendar-line me-2 d-inline-block"></i> {{ event.title }}</div>
                  </div>
                }
              </div>
          </div>
      </div>
      <div class="card custom-card">
        <div class="top-left"></div>
        <div class="top-right"></div>
        <div class="bottom-left"></div>
        <div class="bottom-right"></div>
        <div class="card-body p-0 pb-2">
          <div class="p-3 pb-2">
            <div class="d-flex align-items-center justify-content-between gap-3">
              <h6 class="fw-medium mb-0">
                Today's Events (3):
              </h6>
              <button class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">View All</button>
            </div>
          </div>
          <div class="p-3">
            <ul class="list-unstyled mb-0">
              <li class="mb-3">
                <div class="d-flex gap-1 align-items-center flex-wrap">
                  <div class="avatar avatar-md avatar-rounded flex-shrink-0 me-1 bg-primary-transparent text-primary">
                    <i class="ri-user-line"></i>
                  </div>
                  <div>
                    <div class="mb-0 fs-14 fw-medium text-primary">Client Meeting</div>
                    <p class="mb-0 text-muted fs-12">
                      Meeting with a client.
                    </p>
                  </div>
                  <div class="ms-auto">
                    <span class="badge bg-light mb-1">10:00AM-12:00PM</span>
                  </div>
                </div>
              </li>
              <li class="mb-3">
                <div class="d-flex gap-1 align-items-center flex-wrap">
                  <div class="avatar avatar-md avatar-rounded flex-shrink-0 me-1 bg-secondary-transparent text-secondary">
                    <i class="ri-live-line"></i>
                  </div>
                  <div>
                    <div class="mb-0 fs-14 fw-medium text-primary">Team Meeting</div>
                    <p class="mb-0 text-muted fs-12">
                      Zoom Meeting with all Teams.
                    </p>
                  </div>
                  <div class="ms-auto">
                    <span class="badge bg-light mb-1">05:30PM-08:00PM</span>
                  </div>
                </div>
              </li>
              <li>
                <div class="d-flex gap-1 align-items-center flex-wrap">
                  <div class="avatar avatar-md avatar-rounded flex-shrink-0 me-1 bg-warning-transparent text-warning">
                    <i class="ri-shake-hands-line"></i>
                  </div>
                  <div>
                    <div class="mb-0 fs-14 fw-medium text-primary">Meeting New Client</div>
                    <p class="mb-0 text-muted fs-12">
                      Meeting with a New Client.
                    </p>
                  </div>
                  <div class="ms-auto">
                    <span class="badge bg-light mb-1">8:30PM-09:00PM</span>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <div class="px-3 d-xxl-block d-none">
            <img src="./assets/images/media/media-83.png" alt="" class="img-fluid px-5">
          </div>
        </div>
      </div>
    </div>
      <div class="col-xxl-9">
          <div class="card custom-card">
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>
            <div class="card-header">
                <div class="card-title">Full Calendar</div>
            </div>
            <div class="card-body">
              <div id="calendar2">
                <div class="d-flex align-items-center justify-content-between flex-wrap gap-1">
                  <div class="text-start mb-2">
                    <div class="btn-group">
                      <div
                        class="btn btn-primary"
                        mwlCalendarPreviousView
                        [view]="view"
                        [(viewDate)]="viewDate"
                        (viewDateChange)="closeOpenMonthViewDay()"
                      >
                        <i class="fa fa-chevron-left" aria-hidden="true"></i>
                      </div>
                      <div
                        class="btn btn-primary"
                        mwlCalendarNextView
                        [view]="view"
                        [(viewDate)]="viewDate"
                        (viewDateChange)="closeOpenMonthViewDay()"
                      >
                        <i class="fa fa-chevron-right" aria-hidden="true"></i>
                      </div>
                    </div>
                      <div
                        class="btn btn-primary ms-2"
                        mwlCalendarToday
                        [(viewDate)]="viewDate"
                      >
                        Today
                    </div>
                  </div>
                  <div class="mb-2">
                    <h3>{{ viewDate | calendarDate : view + "ViewTitle" : "en" }}</h3>
                  </div>
                  <div class="text-end mb-2">
                    <div class="btn-group">
                      <div
                        class="btn btn-primary mb-1"
                        (click)="setView(CalendarView.Month)"
                        [class.active]="view === CalendarView.Month"
                      >
                        Month
                      </div>
                      <div
                        class="btn btn-primary mb-1"
                        (click)="setView(CalendarView.Week)"
                        [class.active]="view === CalendarView.Week"
                      >
                        Week
                      </div>
                      <div
                        class="btn btn-primary mb-1"
                        (click)="setView(CalendarView.Day)"
                        [class.active]="view === CalendarView.Day"
                      >
                        Day
                      </div>
                      <button
                        class="btn btn-raised btn-primary float-end mb-1"
                        (click)="addEvent()"
                      >
                        List
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              @switch (view) {
                @case ('month') {
                  <mwl-calendar-month-view  [viewDate]="viewDate"
                      [events]="events" [activeDayIsOpen]="activeDayIsOpen" [refresh]="refresh"
                      (dayClicked)="dayClicked($event.day)"
                      (eventClicked)="handleEvent('Clicked', $event.event)"
                      (eventTimesChanged)="eventTimesChanged($event)">
                  </mwl-calendar-month-view>
                }
                @case ("week"){
                  <mwl-calendar-week-view  [viewDate]="viewDate"
                      [events]="events" [refresh]="refresh" [snapDraggedEvents]="false"
                      (eventClicked)="handleEvent('Clicked', $event.event)"
                      (eventTimesChanged)="eventDropped($event)">
                  </mwl-calendar-week-view>
                }
                @case ("day"){
                  <mwl-calendar-day-view  [viewDate]="viewDate"
                      [events]="events" [refresh]="refresh" [snapDraggedEvents]="false"
                      (eventClicked)="handleEvent('Clicked', $event.event)"
                      (eventTimesChanged)="eventDropped($event)">
                  </mwl-calendar-day-view>
                }
              }
              </div>
        </div>
      </div>
  </div>
  <!--End::row-1 -->

  <ng-template #modalContent let-close="close">
    <div class="modal-header">
      <h5 class="modal-title">{{ modalData.action }}</h5>
      <button type="button" class="btn-close" (click)="close()">
        <!-- <span aria-hidden="true">&times;</span> -->
      </button>
    </div>
    <div class="modal-body">
      <form action="#" class="form form-horizontal">
        <div class="form-body">
          <div class="form-group mb-2">
            <label>Event Title:</label>
            <input
              type="text"
              name="event-title"
              class="form-control"
              [(ngModel)]="modalData['event']['title']"
              (keyup)="refresh.next(true)"
              autocomplete="off"
            />
          </div>
          <div class="form-group">
            <label>Starts At:</label>
            <input
              class="form-control"
              name="event-title2"
              type="text"
              mwlFlatpickr
              [(ngModel)]="modalData['event']['start']"
              ngbDatepicker
              #d="ngbDatepicker"
              (click)="d.toggle()"
            />
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="close()">OK</button>
    </div>
  </ng-template>