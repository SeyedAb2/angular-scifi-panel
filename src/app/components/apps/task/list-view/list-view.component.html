<!-- Start::row-1 -->
<div class="row">
    <div class="col-xxl-3 col-xl-4">
        <div class="card custom-card">
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>
            <div class="card-body p-0">
                <div class="p-3 border-bottom gap-3 d-flex border-block-end-dashed">
                    <div class="task-icon-background bg-primary-transparent text-primary mx-auto"> 
                        <i class="ri-calendar-check-fill fs-22"></i>
                    </div> 
                    <div class="flex-fill">
                        <h6 class="mb-1 fs-12">New Tasks</h6> 
                        <div class="pb-0 mt-0"> 
                            <div> 
                                <h4 class="fs-18 fw-medium mb-2 d-flex align-items-center justify-content-between"><span class="count-up" data-count="548">{{counter1}}</span><span class="badge bg-primary fw-normal ms-2 fs-10 align-middle">
                                    15,487
                                </span> </h4> 
                                <p class="text-muted fs-11 mb-0 lh-1">
                                    <span class="text-success me-1 fw-medium">
                                        <i class="ri-arrow-up-s-line me-1 align-middle"></i>3.25%
                                    </span>
                                    <span>this month</span>
                                </p>
                            </div> 
                        </div> 
                    </div>
                </div>
                <div class="p-3 border-bottom gap-3 d-flex border-block-end-dashed">
                    <div class="task-icon-background bg-success-transparent text-success mx-auto"> 
                        <i class="ri-checkbox-circle-fill fs-22"></i>
                    </div> 
                    <div class="flex-fill">
                        <h6 class="mb-1 fs-12">Completed Tasks</h6> 
                        <div class="pb-0 mt-0"> 
                            <div> 
                                <h4 class="fs-18 fw-medium mb-2 d-flex align-items-center justify-content-between"><span class="count-up" data-count="451">{{counter2}}</span><span class="badge bg-success fw-normal ms-2 fs-10 align-middle">
                                    5,221
                                </span> </h4> 
                                <p class="text-muted fs-11 mb-0 lh-1">
                                    <span class="text-danger me-1 fw-medium">
                                        <i class="ri-arrow-down-s-line me-1 align-middle"></i>1.16%
                                    </span>
                                    <span>this month</span>
                                </p>
                            </div> 
                        </div> 
                    </div>
                </div>
                <div class="p-3 border-bottom gap-3 d-flex border-block-end-dashed">
                    <div class="task-icon-background bg-warning-transparent text-warning mx-auto"> 
                        <i class="ri-hourglass-fill fs-22"></i>
                    </div> 
                    <div class="flex-fill">
                        <h6 class="mb-1 fs-12">Pending Tasks</h6> 
                        <div class="pb-0 mt-0"> 
                            <div> 
                                <h4 class="fs-18 fw-medium mb-2 d-flex align-items-center justify-content-between"><span class="count-up" data-count="124">{{counter3}}</span><span class="badge bg-warning fw-normal ms-2 fs-10 align-middle">
                                    12,115
                                </span> </h4> 
                                <p class="text-muted fs-11 mb-0 lh-1">
                                    <span class="text-success me-1 fw-medium">
                                        <i class="ri-arrow-up-s-line me-1 align-middle"></i>0.25%
                                    </span>
                                    <span>this month</span>
                                </p>
                            </div> 
                        </div> 
                    </div>
                </div>
                <div class="p-3 border-bottom gap-3 d-flex border-block-end-dashed">
                    <div class="task-icon-background bg-secondary-transparent text-secondary mx-auto"> 
                        <i class="ri-progress-5-line fs-22"></i>
                    </div> 
                    <div class="flex-fill">
                        <h6 class="mb-1 fs-12">Ongoing Tasks</h6> 
                        <div class="pb-0 mt-0"> 
                            <div> 
                                <h4 class="fs-18 fw-medium mb-2 d-flex align-items-center justify-content-between"><span class="count-up" data-count="457">{{counter4}}</span><span class="badge bg-secondary fw-normal ms-2 fs-10 align-middle">
                                    2,457
                                </span> </h4> 
                                <p class="text-muted fs-11 mb-0 lh-1">
                                    <span class="text-danger me-1 fw-medium">
                                        <i class="ri-arrow-down-s-line me-1 align-middle"></i>0.46%
                                    </span>
                                    <span>this month</span>
                                </p>
                            </div> 
                        </div> 
                    </div>
                </div>
            </div>
            <div class="mt-4 pb-2">
                <p class="fs-15 fw-medium px-3">Tasks Statistics <span class="text-muted fw-normal">(Last 6 months) :</span></p>
                <div id="task-list-stats" class="apex-chart-width">
                    <apx-chart   [series]="chartOptions.series"
                    [chart]="chartOptions.chart"
                    [dataLabels]="chartOptions.dataLabels"
                    [plotOptions]="chartOptions.plotOptions"
                    [xaxis]="chartOptions.xaxis"></apx-chart>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-9 col-xl-8">
        <div class="card custom-card">
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>
            <div class="card-header justify-content-between pb-3">
                <div class="card-title">
                    Total Tasks
                </div>
                <div class="d-flex">
                    <button (click)="creattaskmodal(content)" class="btn btn-sm btn-primary btn-wave waves-light" data-bs-toggle="modal" data-bs-target="#create-task"><i class="ri-add-line fw-medium align-middle me-1"></i> Create Task</button>
                   
                    <div ngbDropdown class="dropdown ms-2">
                        <button ngbDropdownToggle class="btn btn-icon btn-secondary-light btn-sm btn-wave waves-light no-caret" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="ti ti-dots-vertical"></i>
                        </button>
                        <ul ngbDropdownMenu class="dropdown-menu">
                            <li><a class="dropdown-item" href="javascript:void(0);">New Tasks</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Pending Tasks</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Completed Tasks</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Inprogress Tasks</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table text-nowrap">
                        <thead>
                            <tr>
                                <th>
                                    <input  (change)="selectAllTasks($event)" class="form-check-input check-all" type="checkbox" id="all-tasks" value="" aria-label="...">
                                </th>
                                <th scope="col">Task</th>
                                <th scope="col">Task ID</th>
                                <th scope="col">Assigned Date</th>
                                <th scope="col">Status</th>
                                <th scope="col">Due Date</th>
                                <th scope="col">Priority</th>
                                <th scope="col">Assigned To</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for(data of ListData;track $index){
                                <tr class="task-list">
                                    <td class="task-checkbox">
                                        <input [(ngModel)]="data.selected"  class="form-check-input" type="checkbox" value="" aria-label="..."></td>
                                    <td>
                                        <span class="fw-medium">{{data.Task}}</span>
                                    </td>
                                    <td>
                                        <span class="fw-medium">{{data.TaskID}}</span>
                                    </td>
                                    <td>
                                       {{data.AssignedDate}}
                                    </td>
                                    <td>
                                        <span class="fw-medium text-{{data.statusBg}}">{{data.Status}}</span>
                                    </td>
                                    <td>
                                        {{data.DueDate}}
                                    </td>
                                    <td>
                                        <span class="badge bg-{{data.prioritybg}}-transparent">{{data.Priority}}</span>
                                    </td>
                                    <td>
                                        <div class="avatar-list-stacked">
                                            @for(assign of data.assignedTo;track $index){
                                            <span class="avatar avatar-sm avatar-rounded">
                                                <img [src]="assign.img" alt="img">
                                            </span>
                                        }
                                            <a class="avatar avatar-sm bg-primary avatar-rounded text-fixed-black" href="javascript:void(0);">
                                                {{data.restimg}}
                                            </a>
                                        </div>
                                    </td>
                                    <td>
                                        <button class="btn btn-primary-light btn-icon btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" ngbTooltip="Edit"><i class="ri-edit-line"></i></button>
                                        <button (click)="DeleteClick(data.Task)" class="btn btn-danger-light btn-icon ms-1 btn-sm task-delete-btn"><i class="ri-delete-bin-5-line"></i></button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer border-block-start-0">
                <nav aria-label="Page navigation">
                    <ul class="pagination mb-0 float-end">
                        <li class="page-item disabled">
                            <a class="page-link">Previous</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li>
                        <li class="page-item active" aria-current="page">
                            <a class="page-link" href="javascript:void(0);">2</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="javascript:void(0);">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:void(0);">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
<!--End::row-1 -->
<!-- Start::add task modal -->
<ng-template #content let-modal>

            <div class="modal-header">
                <h6 class="modal-title">Add Task</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal"  (click)="modal.dismiss('Cross click')"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body px-4">
                <div class="row gy-2">
                    <div class="col-xl-6">
                        <label for="task-name" class="form-label">Task Name</label>
                        <input type="text" class="form-control" id="task-name" placeholder="Task Name">
                    </div>
                    <div class="col-xl-6">
                        <label for="task-id" class="form-label">Task ID</label>
                        <input type="text" class="form-control" id="task-id" placeholder="Task ID">
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Assigned Date</label>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-text text-muted"> <i class="ri-calendar-line"></i> </div>
                                <input type="text" class="form-control" id="assignedDate" placeholder="Choose date and time"  mwlFlatpickr
                                [(ngModel)]="AssignedValue">
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Due Date</label>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-text text-muted"> <i class="ri-calendar-line"></i> </div>
                                <input type="text" class="form-control" id="dueDate" placeholder="Choose date and time"  mwlFlatpickr
                                [(ngModel)]="DuaDateValue">
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Status</label>
                        <ng-select placeholder="New" data-trigger name="choices-single-default" id="choices-single-default">
                            <ng-option value="New">New</ng-option>
                            <ng-option value="Completed">Completed</ng-option>
                            <ng-option value="Inprogress">Inprogress</ng-option>
                            <ng-option value="Pending">Pending</ng-option>
                        </ng-select>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Priority</label>
                        <ng-select placeholder="High" data-trigger name="choices-single-default" id="choices-single-default1">
                            <ng-option value="High">High</ng-option>
                            <ng-option value="Medium">Medium</ng-option>
                            <ng-option value="Low">Low</ng-option>
                        </ng-select>
                    </div>
                    <div class="col-xl-12">
                        <label class="form-label">Assigned To</label>
                        <ng-select [multiple]="true" [hideSelected]="true" name="choices-multiple-remove-button1" id="choices-multiple-remove-button1">
                            <ng-option value="Choice 1">Angelina May</ng-option>
                            <ng-option value="Choice 2">Kiara advain</ng-option>
                            <ng-option value="Choice 3">Hercules Jhon</ng-option>
                            <ng-option value="Choice 4">Mayor Kim</ng-option>
                        </ng-select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button (click)="modal.dismiss('Cross click')" type="button" class="btn btn-light"
                    data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Add Task</button>
            </div>

</ng-template>
<!-- End::add task modal -->